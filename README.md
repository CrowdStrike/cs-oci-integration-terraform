![CrowdStrike Falcon](https://raw.githubusercontent.com/CrowdStrike/falconpy/main/docs/asset/cs-logo.png)

# Falcon Cloud Security Registration for Oracle Cloud

## Overview

This repository contains Terraform scripts designed to set up the necessary resources in Oracle Cloud Infrastructure (OCI) for CrowdStrike Falcon Cloud Security integration. 
These scripts are intended to be run in OCI Resource Manager and not directly with Terraform.

## Features

- Creates an IAM user in OCI for CrowdStrike Falcon Cloud Security
- Sets up an IAM group and adds the created user to it
- Establishes IAM policies for the group
- Associates an API key with the created user
- Supports both Identity Domains and non-Identity Domains OCI tenancies

## Prerequisites

- Access to OCI Resource Manager
- Necessary permissions to create IAM resources in your OCI tenancy
- CrowdStrike Falcon Cloud Security account and registration process initiated

## Usage

1. Start the Falcon Cloud Security registration wizard in the CrowdStrike Falcon console.
2. Follow the steps in Falcon Console to Deploy the OCI Stack.
3. Apply the stack in OCI Resource Manager.
4. Copy the generated user OCID and stack OCID, paste it into the final step of the CrowdStrike registration wizard.


## Variables

- `tenancy_ocid`: OCI Tenancy OCID (auto-populated in Resource Manager)
- `expected_home_region`: Home Region specified in Falcon Cloud Security registration
- `user_name`: Name for the created IAM user (auto-populated in Resource Manager)
- `group_name`: Name for the created IAM group (auto-populated in Resource Manager)
- `policy_name`: Name for the created IAM policy (auto-populated in Resource Manager)
- `user_email_address`: Email for the created IAM user (optional)
- `api_public_key`: Public key for API access, generated by Falcon Cloud Security

## Outputs

- `user_ocid`: OCID of the created user (needed to complete CrowdStrike registration)
- `template_version`: Version of the CrowdStrike OCI integration supported by this template

## Important Notes

- This script performs validation to ensure the provided home region matches the actual tenancy home region.
- The script handles formatting of the provided API public key to meet RFC7468 standards.
- Different resources are created based on whether the tenancy uses Identity Domains or not.

## Support

For issues or questions, please contact CrowdStrike support or refer to the Falcon Cloud Security documentation.

## License Information

See the [LICENSE](https://github.com/CrowdStrike/azure-cspm-registration-bicep/main/LICENSE) for more information.
